Another attempt at listing files. Edited.
